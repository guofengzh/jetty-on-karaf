<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<features xmlns="http://karaf.apache.org/xmlns/features/v1.0.0" name="jetty-bundles">

    <feature description="jetty-bundles" name="jetty-bundles" version="${project.version}">
        <bundle start-level="40">mvn:javax.activation/com.springsource.javax.activation/1.1.0</bundle>
        <bundle start-level="40">mvn:org.eclipse.jetty.orbit/javax.annotation/1.1.0.v201108011116</bundle>
        <bundle start-level="40">mvn:org.eclipse.jetty.orbit/javax.el/2.2.0.v201108011116</bundle>
        <bundle start-level="40">mvn:org.eclipse.jetty.orbit/com.sun.el/2.2.0.v201108011116</bundle>
        <bundle start-level="40">mvn:org.eclipse.jetty.orbit/javax.mail.glassfish/1.4.1.v201005082020</bundle>
        <!--bundle start-level="40">mvn:org.eclipse.jetty.orbit/javax.transaction/1.1.1.v201105210645</bundle-->
		<bundle start-level="40">mvn:javax.transaction/com.springsource.javax.transaction/1.1.0</bundle>
        <bundle start-level="40">mvn:org.eclipse.jetty.orbit/org.objectweb.asm/3.3.1.v201105211655</bundle>
        <bundle start-level="40">mvn:org.eclipse.jetty/jetty-continuation/${jetty.version}</bundle>
        <bundle start-level="40">mvn:org.eclipse.jetty/jetty-util/${jetty.version}</bundle>
        <bundle start-level="40">mvn:org.eclipse.jetty/jetty-io/${jetty.version}</bundle>
        <bundle start-level="40">mvn:org.eclipse.jetty/jetty-http/${jetty.version}</bundle>
        <bundle start-level="40">mvn:javax.servlet/javax.servlet-api/3.0.1</bundle>
        <bundle start-level="40">mvn:org.eclipse.jetty/jetty-security/${jetty.version}</bundle>
        <bundle start-level="40">mvn:org.eclipse.jetty/jetty-server/${jetty.version}</bundle>
        <bundle start-level="40">mvn:org.mortbay.jetty/servlet-api/3.0.20100224</bundle>
        <bundle start-level="40">mvn:org.eclipse.jetty/jetty-servlet/${jetty.version}</bundle>
        <bundle start-level="40">mvn:org.eclipse.jetty/jetty-xml/${jetty.version}</bundle>
        <bundle start-level="40">mvn:org.eclipse.jetty/jetty-webapp/${jetty.version}</bundle>
        <bundle start-level="40">mvn:org.eclipse.jetty/jetty-jndi/${jetty.version}</bundle>
        <bundle start-level="40">mvn:org.eclipse.jetty/jetty-plus/${jetty.version}</bundle>
        <bundle start-level="40">mvn:org.eclipse.jetty/jetty-deploy/${jetty.version}</bundle>
        <bundle start-level="40">mvn:org.eclipse.jetty/jetty-websocket/${jetty.version}</bundle>
        <bundle start-level="40">mvn:org.eclipse.jetty/jetty-policy/${jetty.version}</bundle>
        <bundle start-level="40">mvn:org.eclipse.jetty/jetty-ajp/${jetty.version}</bundle>
        <bundle start-level="40">mvn:org.eclipse.jetty/jetty-jmx/${jetty.version}</bundle>
        <bundle start-level="40">mvn:org.eclipse.jetty/jetty-client/${jetty.version}</bundle>
        <bundle start-level="40">mvn:org.eclipse.jetty/jetty-rewrite/${jetty.version}</bundle>
        <bundle start-level="40">mvn:org.eclipse.jetty.osgi/jetty-osgi-boot/${jetty.version}</bundle>
        <bundle start-level="40">mvn:org.eclipse.jetty.osgi/jetty-osgi-boot-warurl/${jetty.version}</bundle>
        <bundle start-level="40">mvn:org.eclipse.jetty.osgi/jetty-osgi-boot-mvn/${jetty.version}</bundle>
    </feature>
	
    <feature description="core feature" version="${project.version}" name="pcore">
        <bundle start="true" start-level="5">mvn:org.osgi/org.osgi.compendium/${org.osgi.compendium.version}</bundle>
    </feature>

    <feature description="Felix Web Console" name="felix-webconsole" version="${project.version}" resolver="(obr)">
        <feature version="${project.version}">jetty-bundles</feature>
		<!-- the following three bundles are required by web console 4.0 -->
        <bundle start-level="42">mvn:org.json/com.springsource.org.json/1.0.0</bundle>
        <bundle start-level="42">mvn:commons-io/commons-io/2.4</bundle>
        <bundle start-level="42">mvn:commons-fileupload/commons-fileupload/1.2.2</bundle>
        <bundle start-level="42">mvn:org.apache.felix/org.apache.felix.http.jetty.httpservice/1.0.0</bundle>
        <bundle start-level="45">mvn:org.apache.felix/org.apache.felix.scr/${felix.scr}</bundle>
        <bundle start-level="45">mvn:org.apache.felix/org.apache.felix.webconsole/${felix.web.console}</bundle>
    </feature>
    
    <feature description="sample" name="sample" version="1.0.0-SNAPSHOT">
        <feature version="${project.version}">felix-webconsole</feature>
        <bundle start-level="45">mvn:org.planner/jetty.httpservice.sample/1.0.0-SNAPSHOT</bundle>
        <!--bundle start-level="45">mvn:org.planner/wab-sample-loginmodule/1.0.0-SNAPSHOT</bundle-->
        <bundle start-level="45">mvn:org.planner/wab-sample/${project.version}/war</bundle>
    </feature>
		
</features>
